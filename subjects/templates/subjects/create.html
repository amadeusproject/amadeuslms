{% extends 'categories/create.html' %}



{% load widget_tweaks static i18n permission_tags django_bootstrap_breadcrumbs switchevenodd %}


{% block breadcrumbs %}
   {% clear_breadcrumbs %}
   {% breadcrumb 'Home' 'categories:index' %}

  {% breadcrumb slug 'categories:index' %}
  {% breadcrumb 'Create Subject' 'subjects:create' %}
{% endblock %}

{% block content %}
	{{ block.super }}
	

	<script type="text/javascript">
		$('#id_professor').multiSelect({
		  selectableHeader: "<input type='text' class='search-input category-search-users' autocomplete='off' placeholder=' '>",
		  selectionHeader: "<input type='text' class='search-input category-search-users' autocomplete='off' placeholder=''>",
		  afterInit: function(ms){
		    var that = this,
		        $selectableSearch = that.$selectableUl.prev(),
		        $selectionSearch = that.$selectionUl.prev(),
		        selectableSearchString = '#'+that.$container.attr('id')+' .ms-elem-selectable:not(.ms-selected)',
		        selectionSearchString = '#'+that.$container.attr('id')+' .ms-elem-selection.ms-selected';

		    that.qs1 = $selectableSearch.quicksearch(selectableSearchString)
		    .on('keydown', function(e){
		      if (e.which === 40){
		        that.$selectableUl.focus();
		        return false;
		      }
		    });

		    that.qs2 = $selectionSearch.quicksearch(selectionSearchString)
		    .on('keydown', function(e){
		      if (e.which == 40){
		        that.$selectionUl.focus();
		        return false;
		      }
		    });
		  },
		  afterSelect: function(){
		    this.qs1.cache();
		    this.qs2.cache();
		  },
		  afterDeselect: function(){
		    this.qs1.cache();
		    this.qs2.cache();
		  }
	});// Used to create multi-select css style

		$('#id_students').multiSelect({
		  selectableHeader: "<input type='text' class='search-input category-search-users' autocomplete='off' placeholder=' '>",
		  selectionHeader: "<input type='text' class='search-input category-search-users' autocomplete='off' placeholder=''>",
		  afterInit: function(ms){
		    var that = this,
		        $selectableSearch = that.$selectableUl.prev(),
		        $selectionSearch = that.$selectionUl.prev(),
		        selectableSearchString = '#'+that.$container.attr('id')+' .ms-elem-selectable:not(.ms-selected)',
		        selectionSearchString = '#'+that.$container.attr('id')+' .ms-elem-selection.ms-selected';

		    that.qs1 = $selectableSearch.quicksearch(selectableSearchString)
		    .on('keydown', function(e){
		      if (e.which === 40){
		        that.$selectableUl.focus();
		        return false;
		      }
		    });

		    that.qs2 = $selectionSearch.quicksearch(selectionSearchString)
		    .on('keydown', function(e){
		      if (e.which == 40){
		        that.$selectionUl.focus();
		        return false;
		      }
		    });
		  },
		  afterSelect: function(){
		    this.qs1.cache();
		    this.qs2.cache();
		  },
		  afterDeselect: function(){
		    this.qs1.cache();
		    this.qs2.cache();
		  }
	});// Used to create multi-select css style

	$('.collapse').on('show.bs.collapse', function (e) {
	if($(this).is(e.target)){
    	var btn = $(this).parent().find('.fa-angle-right');

    	btn.switchClass("fa-angle-right", "fa-angle-down", 250, "easeInOutQuad");
    }
    });

    $('.collapse').on('hide.bs.collapse', function (e) {
    	if($(this).is(e.target)){
        	var btn = $(this).parent().find('.fa-angle-down');

        	btn.switchClass("fa-angle-down", "fa-angle-right", 250, "easeInOutQuad");
        }
    });
	</script>
{% endblock content %}

